# Resource**code**

The goal of
[resourcecode](https://github.com/Resourcecode-project/r-resourcecode)
is to provide an easy access to the Resourcecode hindcast database of
sea-states. More information on the database can be found
[here](https://resourcecode.ifremer.fr). This website only contains
information about the way to retrieve data from this data base and the
functionalities offred by this package.

## Installation

The
[resourcecode](https://github.com/Resourcecode-project/r-resourcecode)
package is on CRAN so you can simply run :

``` r
install.packages("resourcecode")
```

You can install the development version of
[resourcecode](https://github.com/Resourcecode-project/r-resourcecode)
thanks to
[r-universe](https://resourcecode-project.r-universe.dev/resourcecode):

``` r
install.packages("resourcecode",
  repos = c(
    "https://resourcecode-project.r-universe.dev",
    "https://cloud.r-project.org"
  )
)
```

or using the classical:

``` r
devtools::install_github("Resourcecode-project/r-resourcecode")
```

This package depends on data in a data package
[resourcecodedata](https://github.com/Resourcecode-project/r-resourcecodedata/)
that is available on CRAN on will be installed when installing the
package for the first time.

## Examples

Plot the bathymetry used in the project

``` r
library(resourcecode)
library(resourcecodedata)
resourcecode::rscd_mapplot(rscd_field$depth, name = "Depth (m)", transform = "sqrt")
```

![](reference/figures/README-bathymetry-1.png)

See the variables available in the database:

``` r
head(rscd_variables)
#>        name         longname         unit
#> 1 longitude        longitude  degree_east
#> 2  latitude         latitude degree_north
#> 3       tri              tri             
#> 4    MAPSTA       status map            1
#> 5       dpt            depth            m
#> 6      ucur eastward current        m s-1
```

Download a time series of significant wave height next to the coast of
Finistère:

``` r
data <- get_parameters(node = "134865", parameters = "hs")
str(data)
#> tibble [8,760 × 2] (S3: tbl_df/tbl/data.frame)
#>  $ time: POSIXct[1:8760], format: "1994-01-01 00:00:00" "1994-01-01 01:00:00" ...
#>  $ hs  : num [1:8760] 4.82 4.98 5.19 5.37 5.48 ...
#>  - attr(*, "node")= num 134864
if (!is.null(data)) plot(data, type = "l")
```

![](reference/figures/README-data_fetcher-1.png)

# Package index

## All functions

- [`closest_point_field()`](https://resourcecode-project.github.io/r-resourcecode/reference/closest_point_field.md)
  : Find the closest point of the FIELD grid to the specified position

- [`closest_point_spec()`](https://resourcecode-project.github.io/r-resourcecode/reference/closest_point_spec.md)
  : Find the closest point of the SPEC grid to the specified position

- [`compute_orbital_speeds()`](https://resourcecode-project.github.io/r-resourcecode/reference/compute_orbital_speeds.md)
  : Compute the orbital speed at a given depth from the wave elevation
  1D spectra

- [`compute_sea_state_1d_spectrum()`](https://resourcecode-project.github.io/r-resourcecode/reference/compute_sea_state_1d_spectrum.md)
  : Compute sea_state parameter from wave spectrum

- [`compute_sea_state_2d_spectrum()`](https://resourcecode-project.github.io/r-resourcecode/reference/compute_sea_state_2d_spectrum.md)
  : Compute sea_state parameter from wave directional spectrum

- [`convert_spectrum_2d1d()`](https://resourcecode-project.github.io/r-resourcecode/reference/convert_spectrum_2d1d.md)
  : Converts a 2D spectrum time series to a 1D spectrum

- [`cut_directions()`](https://resourcecode-project.github.io/r-resourcecode/reference/cut_directions.md)
  : Directional binning

- [`cut_seasons()`](https://resourcecode-project.github.io/r-resourcecode/reference/cut_seasons.md)
  : Get season from date time object

- [`dispersion()`](https://resourcecode-project.github.io/r-resourcecode/reference/dispersion.md)
  :

  Compute the dispersion relation of waves Find *k* s.t. (2.pi.f)^2 =
  g.k.tanh(k.d)

- [`fastTrapz()`](https://resourcecode-project.github.io/r-resourcecode/reference/fastTrapz.md)
  : Fast implementation of pracma::trapz from the Armadillo C++ library

- [`fractional_day_of_year()`](https://resourcecode-project.github.io/r-resourcecode/reference/fractional_day_of_year.md)
  : Compute Fractional Day of Year from POSIXct

- [`get_1d_spectrum()`](https://resourcecode-project.github.io/r-resourcecode/reference/get_1d_spectrum.md)
  : Download the 1D spectrum data from IFREMER ftp

- [`get_2d_spectrum()`](https://resourcecode-project.github.io/r-resourcecode/reference/get_2d_spectrum.md)
  : Download the 2D spectrum data from IFREMER ftp

- [`get_parameters()`](https://resourcecode-project.github.io/r-resourcecode/reference/get_parameters.md)
  : Download time series of sea-state parameters from RESOURCECODE
  database

- [`` `%nin%` ``](https://resourcecode-project.github.io/r-resourcecode/reference/grapes-nin-grapes.md)
  : Value Matching

- [`jonswap()`](https://resourcecode-project.github.io/r-resourcecode/reference/jonswap.md)
  : JONWSAP spectrum

- [`mean_direction()`](https://resourcecode-project.github.io/r-resourcecode/reference/mean_direction.md)
  : Mean Direction

- [`metconv2zmcomp()`](https://resourcecode-project.github.io/r-resourcecode/reference/metconv2zmcomp.md)
  : Convert meteorological wind speed and direction to u/v components

- [`plot_1d_specta()`](https://resourcecode-project.github.io/r-resourcecode/reference/plot_1d_specta.md)
  : Plot a wave density 1D spectrum at a given time

- [`plot_2d_specta()`](https://resourcecode-project.github.io/r-resourcecode/reference/plot_2d_specta.md)
  : Plot a wave density 2D spectrum

- [`rscd_data_example`](https://resourcecode-project.github.io/r-resourcecode/reference/rscd_data_example.md)
  : Resourcecode data extract

- [`rscd_dir`](https://resourcecode-project.github.io/r-resourcecode/reference/rscd_dir.md)
  : Resourcecode directional bins

- [`rscd_freq`](https://resourcecode-project.github.io/r-resourcecode/reference/rscd_freq.md)
  : Resourcecode frequency vector of 1D and 2D spectra

- [`rscd_mapplot()`](https://resourcecode-project.github.io/r-resourcecode/reference/rscd_mapplot.md)
  : Create a map of the provided variable on the RESOURCECODE field grid

- [`weather_windows()`](https://resourcecode-project.github.io/r-resourcecode/reference/weather_windows.md)
  : Compute Weather Windows

- [`zmcomp2metconv()`](https://resourcecode-project.github.io/r-resourcecode/reference/zmcomp2metconv.md)
  : Convert u/v to meteorological wind speed and direction

# Articles

### All vignettes

- [Introduction to
  \`{resourcecode}\`](https://resourcecode-project.github.io/r-resourcecode/articles/resourcecode.md):
