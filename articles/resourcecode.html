<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to `{resourcecode}` • resourcecode</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to `{resourcecode}`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">resourcecode</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/resourcecode.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Resourcecode-project/r-resourcecode/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to `{resourcecode}`</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Resourcecode-project/r-resourcecode/blob/main/vignettes/resourcecode.Rmd" class="external-link"><code>vignettes/resourcecode.Rmd</code></a></small>
      <div class="d-none name"><code>resourcecode.Rmd</code></div>
    </div>

    
    
<p>The goal of <a href="https://github.com/Resourcecode-project/r-resourcecode" class="external-link">resourcecode</a> is to provide an easy access
to the ResourceCODE hindcast database of sea-states. More information on
the database can be found <a href="https://resourcecode.ifremer.fr" class="external-link">here</a>. We will explain in this
vignette the way to retrieve data from this database and some the
functionalities offered by this package.</p>
<p>This package depends on data in a data package
<a href="https://github.com/Resourcecode-project/r-resourcecodedata/" class="external-link">resourcecodedata</a> that is available through a
<code>drat</code> repository on GitHub. To use the
<a href="https://github.com/Resourcecode-project/r-resourcecode" class="external-link">resourcecode</a> package, you will need to install
<a href="https://github.com/Resourcecode-project/r-resourcecodedata/" class="external-link">resourcecodedata</a> on your computer, using the following
<code>install.packages</code> function (and later update it using the
<code>update.packages</code> function):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"resourcecodedata"</span>,</span>
<span>  repos <span class="op">=</span> <span class="st">"https://resourcecode-project.github.io/drat/"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"source"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Once the packages are installed, we can proceed as usual:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Resourcecode-project/r-resourcecodedata/" class="external-link">resourcecodedata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Resourcecode-project/r-resourcecode" class="external-link">resourcecode</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="database-configuration-nodes-bathymetry">Database configuration: nodes, bathymetry…<a class="anchor" aria-label="anchor" href="#database-configuration-nodes-bathymetry"></a>
</h2>
<p>There are two grids in the Resource<strong>CODE</strong> hindcast
database: the full, dense, <strong>FIELD</strong> grid, which is the
grid where the numerical WWIII model is run and where sea-state
parameters and only 1D spectra are available. The second grid,
<strong>SPEC</strong>, is coarser, but contains the full 2D spectral
data at each node.</p>
<ul>
<li>
<strong>FIELD</strong> grid</li>
</ul>
<p>The variable <code>rscd_field</code> contains the coordinates of the
FIELD grid, along with the depth of these points and <code>d50</code>,
the bottom sediment type.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">rscd_field</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    328030 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;  $ node     : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ longitude: num  6.92 6.91 6.92 6.93 6.95 ...</span></span>
<span><span class="co">#&gt;  $ latitude : num  62.9 62.9 62.9 62.9 62.9 ...</span></span>
<span><span class="co">#&gt;  $ depth    : num  3 3 3 3 3 3 3 3 3 3 ...</span></span>
<span><span class="co">#&gt;  $ d50      : num  0 1.32 1.32 1.32 1.32 ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rscd_field</span><span class="op">)</span></span>
<span><span class="co">#&gt;   node longitude latitude depth   d50</span></span>
<span><span class="co">#&gt; 1    1  6.922498 62.91467     3 0.000</span></span>
<span><span class="co">#&gt; 2    2  6.910178 62.91301     3 1.322</span></span>
<span><span class="co">#&gt; 3    3  6.920552 62.90438     3 1.322</span></span>
<span><span class="co">#&gt; 4    4  6.933673 62.89938     3 1.322</span></span>
<span><span class="co">#&gt; 5    5  6.945979 62.90012     3 1.322</span></span>
<span><span class="co">#&gt; 6    6  6.958059 62.89899     3 1.322</span></span></code></pre></div>
<p>At each location, a large number of sea-state parameters are
available, described in <code>rscd_variables</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">rscd_variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    88 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ name    : chr  "longitude" "latitude" "tri" "MAPSTA" ...</span></span>
<span><span class="co">#&gt;  $ longname: chr  "longitude" "latitude" "tri" "status map" ...</span></span>
<span><span class="co">#&gt;  $ unit    : chr  "degree_east" "degree_north" "" "1" ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rscd_variables</span><span class="op">)</span></span>
<span><span class="co">#&gt;        name         longname         unit</span></span>
<span><span class="co">#&gt; 1 longitude        longitude  degree_east</span></span>
<span><span class="co">#&gt; 2  latitude         latitude degree_north</span></span>
<span><span class="co">#&gt; 3       tri              tri             </span></span>
<span><span class="co">#&gt; 4    MAPSTA       status map            1</span></span>
<span><span class="co">#&gt; 5       dpt            depth            m</span></span>
<span><span class="co">#&gt; 6      ucur eastward current        m s-1</span></span></code></pre></div>
<p>The available location can be plotted on a map using the following
code. It can be noticed here that the variables
<code>rscd_coastline</code> and <code>rscd_islands</code> contain the
path of the coast line and the islands, respectively.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lim_lon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5.25</span>, <span class="op">-</span><span class="fl">4.25</span><span class="op">)</span></span>
<span><span class="va">lim_lat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">47.75</span>, <span class="fl">48.75</span><span class="op">)</span></span>
<span><span class="va">field_bzh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rscd_field</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">longitude</span>, y <span class="op">=</span> <span class="va">latitude</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">.1</span>, col <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">rscd_coastline</span>, linewidth <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">rscd_islands</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">ID</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="va">lim_lon</span>, ylim <span class="op">=</span> <span class="va">lim_lat</span>, expand <span class="op">=</span> <span class="cn">FALSE</span>, crs <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="fl">4326</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">field_bzh</span></span></code></pre></div>
<p><img src="resourcecode_files/figure-html/unnamed-chunk-5-1.png" class="r-plt" alt="" width="100%" style="display: block; margin: auto;"></p>
<ul>
<li>
<strong>SPEC</strong> grid</li>
</ul>
<p>The spectral grid, or <strong>SPEC</strong> grid is coarser, with
more than 24,000 nodes where the full 2D spectra are available. The grid
can be added to the previous plot to see the differences in the spatial
coverage.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">rscd_spectral</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    24276 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;  $ longitude: num  1.5 -5.5 -6 -6.5 -7 4.5 4 3.5 3 2.5 ...</span></span>
<span><span class="co">#&gt;  $ latitude : num  52 52 52 52 52 52.5 52.5 52.5 52.5 52.5 ...</span></span>
<span><span class="co">#&gt;  $ name     : chr  "E001500N52000" "W005500N52000" "W006000N52000" "W006500N52000" ...</span></span>
<span><span class="co">#&gt;  $ depth    : num  15.4 89.6 95.8 52.7 54.7 ...</span></span>
<span><span class="co">#&gt;  $ d50      : num  0.737 -0.8265 -1.585 0.737 0.0346 ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rscd_spectral</span><span class="op">)</span></span>
<span><span class="co">#&gt;   longitude latitude          name    depth         d50</span></span>
<span><span class="co">#&gt; 1       1.5     52.0 E001500N52000 15.41327  0.73700004</span></span>
<span><span class="co">#&gt; 2      -5.5     52.0 W005500N52000 89.64895 -0.82650555</span></span>
<span><span class="co">#&gt; 3      -6.0     52.0 W006000N52000 95.83614 -1.58500008</span></span>
<span><span class="co">#&gt; 4      -6.5     52.0 W006500N52000 52.67409  0.73700004</span></span>
<span><span class="co">#&gt; 5      -7.0     52.0 W007000N52000 54.67464  0.03464983</span></span>
<span><span class="co">#&gt; 6       4.5     52.5 E004500N52500 14.18527  0.73700004</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">field_bzh</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">rscd_spectral</span>, col <span class="op">=</span> <span class="st">"orange"</span>, size <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="resourcecode_files/figure-html/unnamed-chunk-7-1.png" class="r-plt" alt="" width="100%" style="display: block; margin: auto;"></p>
<ul>
<li>Helpers to find points</li>
</ul>
<p>When one is interested in some location, we also provide helpers to
find the closest point in each of the grid, via the
<code>closest_point_FIELD()</code> and <code>closest_point_SPEC()</code>
functions.</p>
</div>
<div class="section level2">
<h2 id="getting-data">Getting data<a class="anchor" aria-label="anchor" href="#getting-data"></a>
</h2>
<p>We have two different sources of data, the FIELD grid, and the SPEC
grid. We will cover each use case here.</p>
<ul>
<li>Sea-state parameters from the FIELD can be retrieved using the
<code><a href="../reference/get_parameters.html">get_parameters()</a></code> function, which allows to download a time
series easily at a given location. For the moment (Sept. 2023), the 1D
spectra on this grid are not available to direct download.</li>
</ul>
<p>For example, if one is interested in the time series of sea-state
parameters at some location, the following code can be adapted:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">point_of_interest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>longitude <span class="op">=</span> <span class="op">-</span><span class="fl">4.6861533</span>, latitude <span class="op">=</span> <span class="fl">48.3026514</span><span class="op">)</span></span>
<span><span class="va">node</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/closest_point_field.html">closest_point_field</a></span><span class="op">(</span><span class="va">point_of_interest</span><span class="op">)</span></span>
<span><span class="va">node</span></span>
<span><span class="co">#&gt; $points</span></span>
<span><span class="co">#&gt;        [,1]</span></span>
<span><span class="co">#&gt; [1,] 134940</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $distances</span></span>
<span><span class="co">#&gt;         [,1]</span></span>
<span><span class="co">#&gt; [1,] 288.974</span></span>
<span><span class="va">ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parameters.html">get_parameters</a></span><span class="op">(</span>node <span class="op">=</span> <span class="va">node</span><span class="op">$</span><span class="va">point</span>, parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hs"</span>, <span class="st">"tp"</span>, <span class="st">"dp"</span>, <span class="st">"cge"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="va">ts</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">value</span>, col <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">name</span>, ncol <span class="op">=</span> <span class="fl">2</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_datetime</a></span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>, date_breaks <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">60</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="resourcecode_files/figure-html/unnamed-chunk-8-1.png" class="r-plt" alt="" width="100%" style="display: block; margin: auto;"></p>
<ul>
<li>1D and 2D spectra of the SPEC grid can be downloaded directly from
IFREMER FTP using functions <code>get_1Dspectrum()</code> and
<code>get_2Dspectrum()</code>. We also provide a plotting function for
the 2D spectrum.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">node_spectral_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/closest_point_spec.html">closest_point_spec</a></span><span class="op">(</span><span class="va">point_of_interest</span><span class="op">)</span></span></code></pre></div>
<p>Then one can extract the 1D spectrum time-series and see the contents
of these downloaded data.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spec_1d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_1d_spectrum.html">get_1d_spectrum</a></span><span class="op">(</span><span class="va">node_spectral_grid</span><span class="op">$</span><span class="va">point</span>, start <span class="op">=</span> <span class="st">"1994-01-01"</span>, end <span class="op">=</span> <span class="st">"1994-02-28"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">spec_1d</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 12</span></span>
<span><span class="co">#&gt;  $ longitude : num -4.68</span></span>
<span><span class="co">#&gt;  $ latitude  : num 48.3</span></span>
<span><span class="co">#&gt;  $ frequency1: num [1:36(1d)] 0.0339 0.0356 0.0392 0.0431 0.0474 ...</span></span>
<span><span class="co">#&gt;  $ frequency2: num [1:36(1d)] 0.0356 0.0392 0.0431 0.0474 0.0521 ...</span></span>
<span><span class="co">#&gt;  $ ef        : num [1:36, 1:1416] 0.000526 0.0028 0.009767 0.145907 1.126401 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;  $ th1m      : num [1:36, 1:1416] 202 203 205 226 230 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;  $ th2m      : num [1:36, 1:1416] 202 203 205 180 180 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;  $ sth1m     : num [1:36, 1:1416] 13.5 13.9 14.5 16.6 14.7 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;  $ sth2m     : num [1:36, 1:1416] 26.1 26.8 28 32.2 28.7 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;  $ freq      : num [1:36(1d)] 0.0339 0.0373 0.041 0.0451 0.0496 ...</span></span>
<span><span class="co">#&gt;  $ forcings  : tibble [1,416 × 14] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   ..$ time  : POSIXct[1:1416], format: "1994-01-01 00:00:00" "1994-01-01 01:00:00" ...</span></span>
<span><span class="co">#&gt;   ..$ dpt   : num [1:1416] 27 27.5 29 30.5 31.5 32.5 32.5 32 31 29.5 ...</span></span>
<span><span class="co">#&gt;   ..$ wnd   : num [1:1416] 12.2 11.6 10.8 10.9 10.8 ...</span></span>
<span><span class="co">#&gt;   ..$ wnddir: num [1:1416] 301 299 298 295 294 ...</span></span>
<span><span class="co">#&gt;   ..$ cur   : num [1:1416] 0.1 0.2 0.3 0.4 0.3 ...</span></span>
<span><span class="co">#&gt;   ..$ curdir: num [1:1416] 325 27.5 41.2 48.6 55.9 ...</span></span>
<span><span class="co">#&gt;   ..$ hs    : num [1:1416] 3.02 3.11 3.23 3.35 3.43 ...</span></span>
<span><span class="co">#&gt;   ..$ fp    : num [1:1416] 0.0672 0.067 0.0671 0.0672 0.0727 ...</span></span>
<span><span class="co">#&gt;   ..$ f02   : num [1:1416] 0.132 0.129 0.124 0.121 0.12 ...</span></span>
<span><span class="co">#&gt;   ..$ f0m1  : num [1:1416] 0.0905 0.0882 0.0864 0.0858 0.0862 ...</span></span>
<span><span class="co">#&gt;   ..$ th1p  : num [1:1416] 234 234 235 237 238 ...</span></span>
<span><span class="co">#&gt;   ..$ sth1p : num [1:1416] 13.4 13.3 13.1 12.9 12.7 ...</span></span>
<span><span class="co">#&gt;   ..$ dir   : num [1:1416] 239 239 239 240 241 ...</span></span>
<span><span class="co">#&gt;   ..$ spr   : num [1:1416] 19.6 19.5 18.8 18 17.4 ...</span></span>
<span><span class="co">#&gt;  $ station   : chr "W004679N48304"</span></span></code></pre></div>
<p>The same applies to 2D spectra.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spec_2d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_2d_spectrum.html">get_2d_spectrum</a></span><span class="op">(</span><span class="va">node_spectral_grid</span><span class="op">$</span><span class="va">point</span>, start <span class="op">=</span> <span class="st">"1994-01-01"</span>, end <span class="op">=</span> <span class="st">"1994-02-28"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">spec_2d</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 9</span></span>
<span><span class="co">#&gt;  $ longitude : num -4.68</span></span>
<span><span class="co">#&gt;  $ latitude  : num 48.3</span></span>
<span><span class="co">#&gt;  $ frequency1: num [1:36(1d)] 0.0339 0.0356 0.0392 0.0431 0.0474 ...</span></span>
<span><span class="co">#&gt;  $ frequency2: num [1:36(1d)] 0.0356 0.0392 0.0431 0.0474 0.0521 ...</span></span>
<span><span class="co">#&gt;  $ efth      : num [1:36, 1:36, 1:1416] 0.00024 0.000629 0.000872 0.000705 0.000423 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 3</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span><span class="co">#&gt;  $ freq      : num [1:36(1d)] 0.0339 0.0373 0.041 0.0451 0.0496 ...</span></span>
<span><span class="co">#&gt;  $ dir       : num [1:36(1d)] 0 10 20 30 40 50 60 70 80 90 ...</span></span>
<span><span class="co">#&gt;  $ forcings  : tibble [1,416 × 6] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   ..$ time  : POSIXct[1:1416], format: "1994-01-01 00:00:00" "1994-01-01 01:00:00" ...</span></span>
<span><span class="co">#&gt;   ..$ dpt   : num [1:1416] 27 27.5 29 30.5 31.5 32.5 32.5 32 31 29.5 ...</span></span>
<span><span class="co">#&gt;   ..$ wnd   : num [1:1416] 12.2 11.6 10.8 10.9 10.8 ...</span></span>
<span><span class="co">#&gt;   ..$ wnddir: num [1:1416] 301 299 298 295 294 ...</span></span>
<span><span class="co">#&gt;   ..$ cur   : num [1:1416] 0.1 0.2 0.3 0.4 0.3 ...</span></span>
<span><span class="co">#&gt;   ..$ curdir: num [1:1416] 145 208 221 229 236 ...</span></span>
<span><span class="co">#&gt;  $ station   : chr "W004679N48304"</span></span></code></pre></div>
<p>In addition, it is possible to plot the wave elevation directional
spectra for any given time, which can be specified by the time index or
directly the date:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_2d_specta.html">plot_2d_specta</a></span><span class="op">(</span><span class="va">spec_2d</span>, <span class="st">"1994-01-15 18:00"</span><span class="op">)</span></span></code></pre></div>
<p><img src="resourcecode_files/figure-html/unnamed-chunk-12-1.png" class="r-plt" alt="" width="100%" style="display: block; margin: auto;"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicolas Raillard.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
